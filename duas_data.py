# База дуа для разных случаев

DUAS_DATABASE = {
    "morning": [
        {
            "title": "Утреннее дуа №1",
            "arabic": "أَصْبَحْنَا وَأَصْبَحَ الْمُلْكُ لِلَّهِ وَالْحَمْدُ لِلَّهِ",
            "transcription": "Асбахна ва асбахаль-мульку лилляхи валь-хамду лиллях",
            "translation": "Мы вступили в утро, и власть принадлежит Аллаху, и хвала Аллаху",
            "category": "morning"
        },
        {
            "title": "Утреннее дуа №2",
            "arabic": "اللَّهُمَّ بِكَ أَصْبَحْنَا وَبِكَ أَمْسَيْنَا وَبِكَ نَحْيَا وَبِكَ نَمُوتُ وَإِلَيْكَ النُّشُورُ",
            "transcription": "Аллахумма бика асбахна ва бика амсайна ва бика нахья ва бика намуту ва иляйка ннушур",
            "translation": "О Аллах, благодаря Тебе мы встречаем утро и вечер, благодаря Тебе живём и умираем, и к Тебе воскрешение",
            "category": "morning"
        },
        {
            "title": "Аят аль-Курси",
            "arabic": "اللَّهُ لَا إِلَٰهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ ۚ لَا تَأْخُذُهُ سِنَةٌ وَلَا نَوْمٌ",
            "transcription": "Аллаху ля иляха илля хуваль-хаййуль-кайюм. Ля та'хузуху синатун ва ля наум...",
            "translation": "Аллах - нет божества, кроме Него, Живого, Поддерживающего жизнь. Не овладевает Им ни дремота, ни сон...",
            "category": "morning"
        }
    ],
    "evening": [
        {
            "title": "Вечернее дуа №1",
            "arabic": "أَمْسَيْنَا وَأَمْسَى الْمُلْكُ لِلَّهِ وَالْحَمْدُ لِلَّهِ",
            "transcription": "Амсайна ва амсаль-мульку лилляхи валь-хамду лиллях",
            "translation": "Мы вступили в вечер, и власть принадлежит Аллаху, и хвала Аллаху",
            "category": "evening"
        },
        {
            "title": "Вечернее дуа №2",
            "arabic": "اللَّهُمَّ أَنْتَ رَبِّي لَا إِلَٰهَ إِلَّا أَنْتَ خَلَقْتَنِي وَأَنَا عَبْدُكَ",
            "transcription": "Аллахумма анта рабби ля иляха илля анта, халякътани ва ана абдук",
            "translation": "О Аллах, Ты - мой Господь, нет божества кроме Тебя, Ты создал меня, и я - Твой раб",
            "category": "evening"
        }
    ],
    "before_eating": [
        {
            "title": "Перед едой",
            "arabic": "بِسْمِ اللَّهِ",
            "transcription": "Бисмилляh",
            "translation": "С именем Аллаха",
            "category": "eating"
        }
    ],
    "after_eating": [
        {
            "title": "После еды",
            "arabic": "الْحَمْدُ لِلَّهِ الَّذِي أَطْعَمَنَا وَسَقَانَا وَجَعَلَنَا مُسْلِمِينَ",
            "transcription": "Альхамду лилляхиль-лязи ат'аамана ва сакъана ва джааляна муслимин",
            "translation": "Хвала Аллаху, Который накормил и напоил нас и сделал нас мусульманами",
            "category": "eating"
        }
    ],
    "before_sleep": [
        {
            "title": "Перед сном",
            "arabic": "بِاسْمِكَ اللَّهُمَّ أَمُوتُ وَأَحْيَا",
            "transcription": "Бисмика Аллахумма амуту ва ахья",
            "translation": "С Твоим именем, о Аллах, я умираю и оживаю",
            "category": "sleep"
        },
        {
            "title": "Перед сном №2",
            "arabic": "اللَّهُمَّ أَسْلَمْتُ نَفْسِي إِلَيْكَ وَفَوَّضْتُ أَمْرِي إِلَيْكَ",
            "transcription": "Аллахумма асламту нафси иляйка ва фаввадту амри иляйк",
            "translation": "О Аллах, я вручаю себя Тебе и доверяю своё дело Тебе",
            "category": "sleep"
        }
    ],
    "travel": [
        {
            "title": "При поездке",
            "arabic": "سُبْحَانَ الَّذِي سَخَّرَ لَنَا هَٰذَا وَمَا كُنَّا لَهُ مُقْرِنِينَ",
            "transcription": "Субханаль-лязи саххара ляна хаза ва ма кунна ляху мукъринин",
            "translation": "Пречист Тот, Кто подчинил нам это, а сами мы не могли бы подчинить",
            "category": "travel"
        }
    ],
    "protection": [
        {
            "title": "Для защиты",
            "arabic": "أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّاتِ مِنْ شَرِّ مَا خَلَقَ",
            "transcription": "Аузу би-калиматиллахи-ттаммати мин шарри ма халякъ",
            "translation": "Ищу защиты в совершенных словах Аллаха от зла того, что Он сотворил",
            "category": "protection"
        },
        {
            "title": "От сглаза",
            "arabic": "أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّةِ مِنْ كُلِّ شَيْطَانٍ وَهَامَّةٍ وَمِنْ كُلِّ عَيْنٍ لَامَّةٍ",
            "transcription": "Аузу би-калиматиллахи-ттаммати мин кулли шайтанин ва хамматин ва мин кулли айнин лямма",
            "translation": "Ищу защиты в совершенных словах Аллаха от всякого шайтана, ядовитого существа и от дурного глаза",
            "category": "protection"
        }
    ],
    "health": [
        {
            "title": "При болезни",
            "arabic": "أَذْهِبِ الْبَأْسَ رَبَّ النَّاسِ اشْفِ أَنْتَ الشَّافِي",
            "transcription": "Азхибиль-ба'са рабба-ннаси ишфи анташ-шафи",
            "translation": "Устрани болезнь, Господь людей, исцели, Ты - Исцеляющий",
            "category": "health"
        }
    ],
    "family": [
        {
            "title": "За семью",
            "arabic": "رَبَّنَا هَبْ لَنَا مِنْ أَزْوَاجِنَا وَذُرِّيَّاتِنَا قُرَّةَ أَعْيُنٍ",
            "transcription": "Раббана хаб ляна мин азваджина ва зурриййатина къуррата айюнин",
            "translation": "Господь наш! Даруй нам отраду глаз в наших супругах и потомках",
            "category": "family"
        }
    ],
    "entering_home": [
        {
            "title": "При входе в дом",
            "arabic": "اللَّهُمَّ إِنِّي أَسْأَلُكَ خَيْرَ الْمَوْلِجِ وَخَيْرَ الْمَخْرَجِ",
            "transcription": "Аллахумма инни ас'алюка хайраль-маулиджи ва хайраль-махрадж",
            "translation": "О Аллах, я прошу у Тебя блага при входе и блага при выходе",
            "category": "home"
        }
    ],
    "leaving_home": [
        {
            "title": "При выходе из дома",
            "arabic": "بِسْمِ اللَّهِ تَوَكَّلْتُ عَلَى اللَّهِ لَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللَّهِ",
            "transcription": "Бисмиллях, таваккальту аляллах, ля хауля ва ля куввата илля биллях",
            "translation": "С именем Аллаха, я уповаю на Аллаха, нет силы и мощи ни у кого, кроме Аллаха",
            "category": "home"
        }
    ],
    "anxiety": [
        {
            "title": "От тревоги и печали",
            "arabic": "اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْهَمِّ وَالْحَزَنِ",
            "transcription": "Аллахумма инни аузу бика миналь-хамми валь-хазан",
            "translation": "О Аллах, я ищу у Тебя защиты от тревоги и печали",
            "category": "mental"
        }
    ],
    "rain": [
        {
            "title": "При дожде",
            "arabic": "اللَّهُمَّ صَيِّبًا نَافِعًا",
            "transcription": "Аллахумма сайибан нафиа",
            "translation": "О Аллах, пошли полезный дождь",
            "category": "weather"
        }
    ]
}

DUA_CATEGORIES = {
    "morning": "🌅 Утренние",
    "evening": "🌆 Вечерние",
    "eating": "🍽 Еда",
    "sleep": "😴 Сон",
    "travel": "✈️ Поездка",
    "protection": "🛡 Защита",
    "health": "💊 Здоровье",
    "family": "👨‍👩‍👧‍👦 Семья",
    "home": "🏠 Дом",
    "mental": "🧠 Душевный покой",
    "weather": "🌧 Погода"
}

def get_duas_by_category(category):
    """Получить все дуа по категории"""
    return DUAS_DATABASE.get(category, [])

def get_all_categories():
    """Получить все категории"""
    return DUA_CATEGORIES

def search_duas(query):
    """Поиск дуа по тексту"""
    results = []
    query = query.lower()
    
    for category, duas in DUAS_DATABASE.items():
        for dua in duas:
            if (query in dua['title'].lower() or 
                query in dua['translation'].lower() or
                query in dua.get('transcription', '').lower()):
                results.append(dua)
    
    return results